// Generated by CoffeeScript 1.7.1
(function() {
  $(function() {
    $('#id_ssn').on('change', function(e) {
      var element, value, year;
      element = e.srcElement ? e.srcElement : e.target;
      value = validateSSN(element.value);
      if (!value) {
        $(element).parents(".form-group").addClass("has-error");
      } else {
        $(element).parents(".form-group").removeClass("has-error");
        year = value[6] === "1" ? "19" : "20";
        $("input[name$='birthday']", $(element).parents('form')).val("" + year + (value.substr(4, 2)) + "-" + (value.substr(2, 2)) + "-" + (value.substr(0, 2))).change();
      }
      return false;
    });
    $('#id_email').mailgun_validator({
      api_key: 'pubkey-7049tobos-x721ipc8b3dp68qzxo3ri5',
      success: function(data) {
        var button;
        $('#id_email').parents(".controls").find('span').remove();
        if (!data.is_valid) {
          $('#id_email').parents(".form-group").addClass("has-error");
          button = data.did_you_mean ? "<button onclick='replaceemail(this);return false;'>" + data.did_you_mean + "</button> ?" : "";
          return $('#id_email').after("<span class='help-block'><strong>Invalid. " + button + "</strong></span>");
        } else {
          return $('#id_email').parents(".form-group").removeClass("has-error");
        }
      }
    });
    $('#id_first_name').on('change', function(e) {
      var element, last_char;
      element = e.srcElement ? e.srcElement : e.target;
      last_char = element.value.slice(-1).toLowerCase();
      if (last_char === 'a' || last_char === 'e') {
        return $('#id_gender').val('F');
      } else {
        return $('#id_gender').val('M');
      }
    });
    return true;
  });

}).call(this);

//# sourceMappingURL=participant.map
